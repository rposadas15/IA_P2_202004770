<html>
    <head>
        <script type="text/javascript" src="../dist/tytus.js"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        
    </head>
    <body>
        <h2>Regresion Lineal</h2>
        <p id="log"></p>    
        <div id="chart_div" style="width: 900px; height: 500px;"></div>
        <script type="text/javascript">
            var xTrain = [ 13,  14,  16,  18,  19,  20,  22,  24,  25,  27,
                           28,  30,  32,  33,  34,  35,  37,  38,  39,  41,
                           42,  44,  45,  46,  47,  49,  50,  51,  53,  54,
                           56,  58,  59,  61,  62,  64,  66,  68,  69,  70,
                           72,  74,  76,  77,  79,  80,  82,  84,  85,  87,
                           88,  89,  90,  92,  93,  94,  96,  97,  98,  98,
                          101, 102, 104, 106, 107, 108, 109, 111, 113, 115,
                          116, 118, 120, 121, 123, 124, 126, 128, 129, 130]

            var yTrain = [  624,  892,  2808,    528,  2528,  3325,   966,  1248,  3481,  1332,
                           4224,  1765, 1821,   4801,  3726,  2279,  3795,  2663,  4451,  3009,
                           4624,  5335, 5733,   4773,  5597,  4531,  5918,  4039,  4688,  6332,
                           4543,  5525, 6578,   5794,  7556,  6067,  6333,  6906,  6333,  5663,
                           8740,  8746, 7601,   7038,  7707,  6669,  7970,  7308,  8497,  8220,
                           8089,  9451, 8724,  10272,  8891, 10662,  8318,  9760, 10051, 10837,
                          11428,  9497, 10537, 10419, 11139, 12190, 11620, 11764, 10640, 10600,
                          11921, 10445, 11251, 13276, 12855, 11651, 12989, 11572, 14138, 13471]

            var linear = new LinearRegression()
            linear.fit(xTrain, yTrain)
            yPredict = linear.predict(xTrain)
            document.getElementById("log").innerHTML+='<br>X Train:   '+xTrain+'<br>Y Train:   '+yTrain+'<br>Y Predict: '+yPredict
            var a = joinArrays('x',xTrain,'yTrain',yTrain,'yPredict',yPredict)

            google.charts.load('current', {'packages':['corechart']});
            google.charts.setOnLoadCallback(drawChart);
            
            function drawChart() {
                var data = google.visualization.arrayToDataTable(a);
                var options = {
                    seriesType : 'scatter',
                    series: {1: {type: 'line'}}
                };  
                var chart = new google.visualization.ComboChart(document.getElementById('chart_div'));
                chart.draw(data, options);         
            }    
        </script>
    </body>
</html>
